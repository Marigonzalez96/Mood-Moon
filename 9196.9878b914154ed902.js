"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9196],{9196:(C,h,a)=>{a.r(h),a.d(h,{Tab2PageModule:()=>M});var o=a(7765),d=a(9808),g=a(2382),P=a(581),m=a(2026),u=a(5518),T=a(6815),Z=a(2322),b=a(6731),f=a(4854),e=a(1223);const v=function(t){return{fadeIn:t}},A=[{path:"",component:(()=>{class t{constructor(){this.date=(new Date).toISOString(),this.showAnimation=!1}ionViewWillEnter(){const n=(new Date).toISOString();console.debug("la fecha de hoy",n),this.changeDate(n)}changeDate(n){console.debug("la fecha seleccionada",n);const l=localStorage.getItem(n),p=JSON.parse(l);p?(this.selectedPhase=f.I.get(p.data[0].moonPhase.closest.text),this.selectImg(this.selectedPhase),this.showAnimation=!0,this.removeAnimation()):fetch(`https://api.stormglass.io/v2/astronomy/point?lat=35.51725&lng=58.308743&start=${n}`,{headers:{Authorization:"57a2b6b0-0b2d-11ec-8a89-0242ac130002-57a2b728-0b2d-11ec-8a89-0242ac130002"}}).then(c=>c.json()).then(c=>{const y=JSON.stringify(c);localStorage.setItem(n,y),this.selectedPhase=f.I.get(c.data[0].moonPhase.closest.text),this.selectImg(this.selectedPhase),this.showAnimation=!0,this.removeAnimation()})}selectImg(n){switch(n){case"Luna llena":default:this.selectedPhaseImg=u.Z;break;case"Cuarto menguante":this.selectedPhaseImg=b.Z;break;case"Cuarto creciente":this.selectedPhaseImg=T.Z;break;case"Luna nueva":this.selectedPhaseImg=Z.Z}}removeAnimation(){setTimeout(()=>{this.showAnimation=!1},3e3)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-tab2"]],decls:15,vars:9,consts:[[3,"translucent"],[3,"fullscreen"],[1,"app-background"],[1,"moon-phase",3,"ngClass"],[1,"moon-phase-name"],[1,"phase-img",3,"src","hidden"],[1,"day-picker"],["position","floating"],["placeholder","Elegir fecha","cancelText","cancelar","doneText","Confirmar","displayFormat","DD/MMM/YYYY",3,"ngModel","ngModelChange"]],template:function(n,s){1&n&&(e.TgZ(0,"ion-header",0),e.TgZ(1,"ion-toolbar"),e.TgZ(2,"ion-title"),e._uU(3," Buscador "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(4,"ion-content",1),e.TgZ(5,"div",2),e.TgZ(6,"div",3),e.TgZ(7,"ion-label",4),e._uU(8),e.qZA(),e._UZ(9,"ion-img",5),e.qZA(),e.TgZ(10,"div",6),e.TgZ(11,"ion-item"),e.TgZ(12,"ion-label",7),e._uU(13,"Seleccionar Fecha"),e.qZA(),e.TgZ(14,"ion-datetime",8),e.NdJ("ngModelChange",function(l){return s.date=l})("ngModelChange",function(l){return s.changeDate(l)}),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&n&&(e.Q6J("translucent",!0),e.xp6(4),e.Q6J("fullscreen",!0),e.xp6(2),e.Q6J("ngClass",e.VKq(7,v,s.showAnimation)),e.xp6(2),e.Oqu(s.selectedPhase),e.xp6(1),e.Q6J("src",s.selectedPhaseImg)("hidden",!s.selectedPhaseImg),e.xp6(5),e.Q6J("ngModel",s.date))},directives:[o.Gu,o.sr,o.wd,o.W2,d.mk,o.Q$,o.Xz,o.Ie,o.x4,o.QI,g.JJ,g.On],styles:[".moon-phase[_ngcontent-%COMP%]{display:grid;place-items:center;height:300px}.moon-phase-name[_ngcontent-%COMP%]{color:#fff;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin-top:20px;font-size:42px}.phase-img[_ngcontent-%COMP%]{height:300px;width:300px;margin-top:20px}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{animation-name:fadeIn;animation-duration:3s;animation-fill-mode:both}.day-picker[_ngcontent-%COMP%]{position:fixed;bottom:0;width:100%;display:flex;justify-content:center}"]}),t})()}];let I=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[m.Bz.forChild(A)],m.Bz]}),t})(),M=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[o.Pc,d.ez,g.u5,P.e,I]]}),t})()}}]);